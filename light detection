#include "mbed.h"

AnalogIn lightSensor(PB_0);  // light sensor connect D6
DigitalOut alertLed(PA_10);    // alert LED connected to D2

#define LIGHT_THRESHOLD 0.3   // threshold for light sensor

int main() {
    // initialize the led as OFF 
    alertLed = 0;

    while (true) {
        float lightValue = lightSensor.read();// Reading the light sensor value

        // Checking if the light level is lower than the threshold
        if (lightValue < LIGHT_THRESHOLD) {
            alertLed = 1;  // turning ON the LED if light intensity is low
        } else {
            alertLed = 0; 
        }

        // delay to avoid rapid change
        thread_sleep_for(200);
    }
}
